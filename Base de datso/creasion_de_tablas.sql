
-- 1. Tabla Ubicacion
CREATE TABLE UBICACION (
    ID_UBICACION NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    DEPARTAMENTO VARCHAR2(100) NOT NULL,
    MUNICIPIO VARCHAR2(100) NOT NULL
);

-- 2. Tabla Presidente
CREATE TABLE PRESIDENTE (
    ID_PRESIDENTE NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    DPI VARCHAR2(20) UNIQUE NOT NULL,
    NOMBRE1 VARCHAR2(50) NOT NULL,
    NOMBRE2 VARCHAR2(50),
    NOMBRE3 VARCHAR2(50),
    APELLIDO1 VARCHAR2(50) NOT NULL,
    APELLIDO2 VARCHAR2(50),
    FECHA_NACIMIENTO DATE NOT NULL,
    CORREO VARCHAR2(100),
    ID_UBICACION NUMBER NOT NULL,
    CONSTRAINT FK_PRESIDENTE_UBICACION FOREIGN KEY (ID_UBICACION) REFERENCES UBICACION(ID_UBICACION)
);

-- 3. Tabla Equipo
CREATE TABLE EQUIPO (
    ID_EQUIPO NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    NOMBRE VARCHAR2(100) NOT NULL,
    AFORO NUMBER,
    ANO_FUNDACION NUMBER(4),
    ID_PRESIDENTE NUMBER NOT NULL,
    ID_UBICACION NUMBER NOT NULL,
    CONSTRAINT FK_EQUIPO_PRESIDENTE FOREIGN KEY (ID_PRESIDENTE) REFERENCES PRESIDENTE(ID_PRESIDENTE),
    CONSTRAINT FK_EQUIPO_UBICACION FOREIGN KEY (ID_UBICACION) REFERENCES UBICACION(ID_UBICACION)
);

-- 4. Tabla Jugador
CREATE TABLE JUGADOR (
    ID_JUGADOR NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    NOMBRE1 VARCHAR2(50) NOT NULL,
    NOMBRE2 VARCHAR2(50),
    NOMBRE3 VARCHAR2(50),
    APELLIDO1 VARCHAR2(50) NOT NULL,
    APELLIDO2 VARCHAR2(50),
    CORREO_ELECTRONICO VARCHAR2(100),
    POSICION VARCHAR2(50),
    ID_EQUIPO NUMBER NOT NULL,
    ID_UBICACION NUMBER NOT NULL,
    CONSTRAINT FK_JUGADOR_EQUIPO FOREIGN KEY (ID_EQUIPO) REFERENCES EQUIPO(ID_EQUIPO),
    CONSTRAINT FK_JUGADOR_UBICACION FOREIGN KEY (ID_UBICACION) REFERENCES UBICACION(ID_UBICACION)
);

-- 5. Tabla Partido
CREATE TABLE PARTIDO (
    ID_PARTIDO NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    FECHA_HORA_JUEGO TIMESTAMP NOT NULL,
    ID_UBICACION NUMBER NOT NULL,
    CONSTRAINT FK_PARTIDO_UBICACION FOREIGN KEY (ID_UBICACION) REFERENCES UBICACION(ID_UBICACION)
);

-- 6. Tabla Partido_Equipo (relaci√≥n N:M)
CREATE TABLE PARTIDO_EQUIPO (
    ID_PARTIDO NUMBER NOT NULL,
    ID_EQUIPO NUMBER NOT NULL,
    CONSTRAINT PK_PARTIDO_EQUIPO PRIMARY KEY (ID_PARTIDO, ID_EQUIPO),
    CONSTRAINT FK_PE_PARTIDO FOREIGN KEY (ID_PARTIDO) REFERENCES PARTIDO(ID_PARTIDO),
    CONSTRAINT FK_PE_EQUIPO FOREIGN KEY (ID_EQUIPO) REFERENCES EQUIPO(ID_EQUIPO)
);

-- 7. Tabla Gol
CREATE TABLE GOL (
    ID_GOL NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    MINUTO NUMBER NOT NULL,
    DESCRIPCION VARCHAR2(200),
    ID_JUGADOR NUMBER NOT NULL,
    ID_PARTIDO NUMBER NOT NULL,
    CONSTRAINT FK_GOL_JUGADOR FOREIGN KEY (ID_JUGADOR) REFERENCES JUGADOR(ID_JUGADOR),
    CONSTRAINT FK_GOL_PARTIDO FOREIGN KEY (ID_PARTIDO) REFERENCES PARTIDO(ID_PARTIDO)
);